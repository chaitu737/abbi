<div class="text-center">
  <h2 style="background-color:#503219; color:#fff; padding:10px; max-width:100%">Discount Manager</h2>
</div>
<div class="container" style="background-color: #d8ceb9;height:100%;width:90%;padding: 10px;">
  <div class="row"  ng-show="addDisc"> <br />
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" ng-init="GetDiscountData()">
      <button class="btn btn-color" type="button" data-toggle="modal" data-target="#Newdiscount" ng-click="" ng-if="security1=='3'">Add New Discount</button>
      <div class="modal fade" id="Newdiscount" role="dialog">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <button class="close" type="button" data-dismiss="modal">Ã—</button>
              <h4 class="modal-title text-center">Online Store - New Discount</h4>
            </div>
            <div class="modal-body">
              <div class="container edge" style="background-color: #d8ceb9;height:100%;width:100%;padding: 10px;">
                <div class="row">
                  <form class="form-group">
                    <div>
                      <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 form-group">
                        <label>Discount Code:</label>
                        <input type="text" class="form-control" ng-model="newdiscount.discountcode">
                      </div>
                      <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 form-group">
                        <label>Description: </label>
                        <textarea style="width: 100%;" ng-model="newdiscount.Description"></textarea>
                      </div>
                      <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 form-group">
                        <label>Discount Type:</label>
                        <select class="form-control" ng-model="newdiscount.discounttype">
                          <option value="">-- Choose Type --</option>
                          <option value="$ Discout - Product">Dollar Discout Off Product(s)</option>
                          <option value="% Discout - Product">Percentage Discout Off Product(s)</option>
                          <option value="$ Discout - Order">Dollar Discout Off Order</option>
                          <option value="% Discout - Order">Percentage Discout Off Order</option>
                          <option value="$ Discout - Shipping">Dollar Discout Off Shipping</option>
                          <option value="% Discout - Shipping">Percentage Discout Off Shipping</option>
                        </select>
                      </div>
                      <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 form-group">
                        <label>Discount Amount ($ or %) </label>
                        <input type="number" class="form-control" ng-model="newdiscount.discountAmount">
                      </div>
                      <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 form-group">
                        <label>Minimum Order Amount ($):</label>
                        <input type="text" class="form-control" ng-model="newdiscount.MinOrderAmount">
                        <p>Leave blank for no minimum order amount.</p>
                      </div>
                      <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 form-group">
                        <label>Discount Limit:</label>
                        <input type="text" class="form-control" ng-model="newdiscount.Limit">
                        <p>Leave blank for limit.</p>
                      </div>
                      <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 form-group">
                        <label>Start Date:</label>
                        <input type="date" ng-model-options="{timezone: 'UTC'}" class="form-control" ng-model="newdiscount.startdate">
                      </div>
                      <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 form-group">
                        <label>End Date:</label>
                        <input type="date" ng-model-options="{timezone: 'UTC'}" class="form-control" ng-model="newdiscount.enddate">
                      </div>
                    </div>
                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 form-group">
                      <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 form-group" style="white-space: nowrap;" ng-click="AddNewDiscount(newdiscount)">
                        <button class="btn btn-color" type="button">Submit</button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div ng-show="editdisc">
    <div class="row">
      <div class="col-md-6 col-lg-6 col-sm-6 col-xs-12 ">
        <label>Discount Code:</label>
        <input type="text" class="form-control" ng-model="edms.discountCode">
      </div>
      <div class="col-md-6 col-lg-6 col-sm-6 col-xs-12 ">
        <label>Description: </label>
        <textarea class="form-control" ng-model="edms.Description"></textarea>
      </div>
    </div>
    <br>
    <div class="row">
      <div class="col-md-6 col-lg-6 col-sm-6 col-xs-12 ">
        <label>Discount Type:</label>
        <select class="form-control" ng-model="edms.DiscountType">
          <option value="">-- Choose Type --</option>
          <option value="$ Discout - Product">Dollar Discout Off Product(s)</option>
          <option value="% Discout - Product">Percentage Discout Off Product(s)</option>
          <option value="$ Discout - Order">Dollar Discout Off Order</option>
          <option value="% Discout - Order">Percentage Discout Off Order</option>
          <option value="$ Discout - Shipping">Dollar Discout Off Shipping</option>
          <option value="% Discout - Shipping">Percentage Discout Off Shipping</option>
        </select>
      </div>
      <div class="col-md-6 col-lg-6 col-sm-6 col-xs-12 ">
        <label>Discount Amount ($ or %) </label>
        <input type="number" class="form-control" ng-model="edms.DiscountAmount">
      </div>
    </div>
    <br>
    <div class="row">
      <div class="col-md-6 col-lg-6 col-sm-6 col-xs-12 ">
        <label>Minimum Order Amount:</label>
        <input type="text" class="form-control" ng-model="edms.MinOrderAmount">
        <p>Leave blank for no minimum order amount.</p>
      </div>
      <div class="col-md-6 col-lg-6 col-sm-6 col-xs-12 ">
        <label>Discount Limit:</label>
        <input type="text" class="form-control" ng-model="edms.Limit">
        <p>Leave blank for limit.</p>
      </div>
    </div>
    <br>
    <div class="row">
      <div class="col-md-6 col-lg-6 col-sm-6 col-xs-12 ">
        <label>Start Date:</label>
        <div id="datepicker3" class="input-group date" data-date-format="mm/dd/yyyy">
          <input class="form-control" type="text" ng-model="edms.StartDate"  />
          <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
        </div>
      </div>
      <div class="col-md-6 col-lg-6 col-sm-6 col-xs-12 ">
        <label>End Date:</label>
        <div id="datepicker3" class="input-group date" data-date-format="mm/dd/yyyy">
          <input class="form-control" type="text" ng-model="edms.endDate"  />
          <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 ">
        <button type="button" class="btn btn-color" ng-click="AddExistingProd()" data-toggle="modal" data-target="#addexisitingproducts">Add Exisiting Products</button>
        <div class="row">
          <div class="panel panel-default">
            <div class="panel-body">
              <div class="table-responsive">
                <table class="table table-striped table-bordered nowrap" datatable="ng"
                dt-options="vm.dtOptions" dt-instance="vm.dtInstance" width="100%">
                <thead>
                  <tr>
                    <th>Product Number</th>
                    <th>Product </th>
                    <th>Price ($) </th>
                    <th>Quantity </th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="aprol in aprols">
                    <td><span ng-bind="aprol.ProductNumber"></span></td>
                    <td><span ng-bind="aprol.ProductName"></span></td>
                    <td><span ng-bind="aprol.Price | currency"></span></td>
                    <td><span ng-bind="aprol.qtyOnHand"></span></td>
                    <td>
                      <i title="Delete" ng-click="DeleteExistingPro(aprol)" class="btn btn-danger fa fa-trash"></i>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div id="addexisitingproducts" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title">Existing Products</h4>
            </div>
            <div class="modal-body">
              <div class="panel panel-default">
                <div class="panel-body">
                  <div class="table-responsive">
                    <table class="table table-striped table-bordered nowrap" datatable="ng"
                    dt-options="vm.dtOptions" dt-instance="vm.dtInstance" width="100%">
                    <thead>
                      <tr>
                        <th>Select</th>
                        <th>Category </th>
                        <th>Code </th>
                        <th>Product </th>
                        <th>Price ($)</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="aexp in aexps">
                        <td>
                          <input ng-click="AddProductToList(aexp,edms)" type="checkbox">
                        </td>
                        <td><span ng-bind="aexp.ProductCategory"></span></td>
                        <td><span ng-bind="aexp.ProductNumber"></span></td>
                        <td><span ng-bind="aexp.ProductName"></span></td>
                        <td><span ng-bind="aexp.Price | currency"></span></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<br>
<div class="row">
  <div class="col-md-12">
    <button class="btn btn-color" type="button" ng-click="UpdateDiscount(edms)">Update</button>
    <button class="btn btn-color" ng-click="BacktoEditDiscount()" type="reset">Exit</button>
  </div>
</div>
</div>
<br>
<div class="panel panel-default" ng-show="addDisc">
  <div class="panel-body">
    <div class="table-responsive">
      <table class="table table-striped table-bordered nowrap" datatable="ng"
      dt-options="vm.dtOptions" dt-instance="vm.dtInstance" width="100%">
      <thead>
        <tr>
          <th ng-if="security1==3">Code </th>
          <th ng-if="security1==2">Code </th>
          <th>Description </th>
          <th>Type </th>
          <th>Amount ($)</th>
          <th>Start Date</th>
          <th>End Date </th>
          <th ng-if="security1==3">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="gdd in gdds">
          <td ng-if="security1==3"><a href="#" ng-click=" editDiscount(gdd); ShowExisitingList(gdd)"><span ng-bind="gdd.discountcode"></span></a></td>
          <td ng-if="security1==2"><span ng-bind="gdd.discountcode"></span></td>
          <td><span ng-bind="gdd.Description"></span></td>
          <td><span ng-bind="gdd.discounttype"></span></td>
          <td><span ng-bind="gdd.discountAmount | currency"></span></td>
          <td><span ng-bind="gdd.startdate | date:'MM/dd/yyyy'"></span></td>
          <td><span ng-bind="gdd.enddate | date:'MM/dd/yyyy'"></span></td>
          <td ng-if="security1==3">
            <i title="Delete" ng-click="DeleteDiscount(gdd)" class="btn btn-danger fa fa-trash"></i>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
</div>
</div>